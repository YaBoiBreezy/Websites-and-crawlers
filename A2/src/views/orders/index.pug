doctype html

html(lang="en")
  head
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width")

    title Orders

  body
    header
      h1 Orders
      p 
        a(href=`/products`) Products

      h2 Create
      form(method="post" action="/orders")
        p
          label(for="create.username", style="margin-right: 0.2em") Username
          input(type="text", id="create.username", name="name", value='Alex', required)
        p
          label(for="create.orderItems", style="margin-right: 0.2em") Order Items
          input(type="text", id="create.orderItems", name="orderItems", value='[{"productId": 2,"quantity": 3},{"productId": 3,"quantity": 2}]', required)
        p
          button(type="submit") Create

    article
      h2 List
      if orders.length > 0
        each order in orders
          article
            h3
              a(href=`/orders/${order.id}`) Order ##{order.id}
            p Customer: #{order.customer.name}
            p Items:
            ul
              each item in order.orderItems
                li
                  a(href=`/products/${item.product.id}`) #{item.product.name} (Ã—#{item.quantity})
      else 
        p No orders found.
